!function(E){var D="createTouch" in document||"ontouchstart" in E||0,H=document.documentElement||document.getElementsByTagName("html")[0],A="WebkitTransition" in H.style||"MsTransition" in H.style||"MozTransition" in H.style||"OTransition" in H.style||"transition" in H.style||0,F=D?"touchstart":"mousedown",G=D?"touchmove":"mousemove",B=D?"touchend":"mouseup",C=function(K){this.opt=this.parse_args(K),this.container=this.$(this.opt.id);try{if("ul"==this.container.nodeName.toLowerCase()?(this.element=this.container,this.container=this.element.parentNode):this.element=this.container.getElementsByTagName("ul")[0],"undefined"==typeof this.element){throw new Error('Can\'t find "ul"')}for(var I=0;I<this.instance.length;I++){if(this.instance[I]==this.container){throw new Error("An instance is running")}}this.instance.push(this.container),this.setup()}catch(J){this.status=-1,this.errorInfo=J.message}};C.prototype={_default:{id:"slider",fx:"ease-out",auto:0,speed:600,timeout:5000,className:"",direction:"left",mouseWheel:!1,before:new Function,after:new Function},instance:[],$:function(I){return document.getElementById(I)},$E:function(N,L,M){var O,I,J=[],K=M.getElementsByTagName(L);for(O=0,I=K.length;I>O;O++){new RegExp("(?:^|\\s+)"+N+"(?:\\s+|$)").test(K[O].className)&&J.push(K[O])}return J},isIE:function(){return !-[1]},css:function(){var K=function(N){var L,M;switch(N){case"float":return"cssFloat" in document.body.style?"cssFloat":"styleFloat";case"opacity":return"opacity" in document.body.style?"opacity":{get:function(Q,O){var P=O.filter;return P&&P.indexOf("opacity")>=0&&parseFloat(P.match(/opacity=([^)]*)/i)[1])/100+""||"1"},set:function(P,O){P.style.filter="alpha(opacity="+100*O+")",P.style.zoom=1}};default:for(L=N.split("-"),M=1;M<L.length;M++){L[M]=L[M].substring(0,1).toUpperCase()+L[M].substring(1)}return N=L.join("")}},I=function(N,O){var L,M;return O=K(O),L=N.style[O],L||(M=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(N,null)||N.currentStyle||N.style,L="string"==typeof O?M[O]:O.get(N,M)),"auto"==L?"":L},J=function(N,O){var L,M;for(M in O){L=K(M),"string"==typeof L?N.style[L]=O[M]:L.set(N,O[M])}};return function(M,L){return"string"==typeof L?I(M,L):J(M,L)}}(),parse_args:function(L){var I,J={},K=Object.prototype.toString;if(L&&"[object Object]"==K.call(L)){for(I in this._default){J[I]="undefined"==typeof L[I]?this._default[I]:"[object Number]"==K.call(this._default[I])?parseInt(100*parseFloat(L[I]))/100:L[I]}}else{J=this._default}return J},addListener:function(L,J,K,I){return L.addEventListener?(L.addEventListener(J,K,I),!0):L.attachEvent?(L.attachEvent("on"+J,K),!0):!1},getMousePoint:function(L){var I,J=y=0,K=document.documentElement,M=document.body;return L||(L=E.event),E.pageYoffset?(J=E.pageXOffset,y=E.pageYOffset):(J=(K&&K.scrollLeft||M&&M.scrollLeft||0)-(K&&K.clientLeft||M&&M.clientLeft||0),y=(K&&K.scrollTop||M&&M.scrollTop||0)-(K&&K.clientTop||M&&M.clientTop||0)),D&&L.touches.length?(I=L.touches[0],J+=I.clientX,y+=I.clientY):(J+=L.clientX,y+=L.clientY),{x:J,y:y}},bind:function(J,I){return function(){return J.apply(I,arguments)}},preventDefault:function(I){E.event?E.event.returnValue=!1:I.preventDefault()},setup:function(){if(this.status=0,this.slides=this.opt.className?this.$E(this.opt.className,"li",this.element):this.element.getElementsByTagName("li"),this.length=this.slides.length,this.opt.timeout=Math.max(this.opt.timeout,this.opt.speed),this.touching=!!D,this.css3transition=!!A,this.index=this.opt.auto<0||this.opt.auto>=this.length?0:this.opt.auto,!(this.length<2)){switch(this.opt.direction){case"up":this.direction="up",this.vertical=!0;break;case"down":this.direction="down",this.vertical=!0;break;case"right":this.direction="right",this.vertical=!1;break;default:this.direction="left",this.vertical=!1}this.resize(),this.begin(),this.addListener(this.element,F,this.bind(this._start,this),!1),this.addListener(document,G,this.bind(this._move,this),!1),this.addListener(document,B,this.bind(this._end,this),!1),this.addListener(this.element,"webkitTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"msTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"oTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"transitionend",this.bind(this._transitionend,this),!1),this.addListener(E,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)}},resize:function(){var J,I;for(this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:"relative"}),this.width=this.container.clientWidth-parseInt(this.css(this.container,"padding-left"))-parseInt(this.css(this.container,"padding-right")),J={position:"relative",webkitTransitionDuration:"0ms",MozTransitionDuration:"0ms",msTransitionDuration:"0ms",OTransitionDuration:"0ms",transitionDuration:"0ms"},this.vertical?(J["height"]=this.height*this.length+"px",J["top"]=-this.height*this.index+"px",this.css(this.container,{height:this.height+"px"})):(J["width"]=this.width*this.length+"px",J["left"]=-this.width*this.index+"px"),this.css(this.element,J),I=0;I<this.length;I++){this.css(this.slides[I],{width:this.width+"px",height:this.height+"px",display:this.vertical?"table-row":"table-cell",padding:0,margin:0,"float":"left",verticalAlign:"top"})}this.css(this.container,{visibility:"visible"})},slide:function(S,Q){var T,U,K,L,I,J,O,P,M,N,R=this.vertical?"top":"left",V=this.vertical?"height":"width";S=0>S?this.length-1:S>=this.length?0:S,Q="undefined"==typeof Q?this.opt.speed:parseInt(Q),T=this.element,U=null,K=T.style,L=this,I=0,J=parseInt(K[R])||0,O=-S*this[V]-J,P=Math.abs(O)<this[V]?Math.ceil(Math.abs(O)/this[V]*Q/10):Q/10,M=function(Z,X,Y,W){return -Y*((Z=Z/W-1)*Z*Z*Z-1)+X},N=function(){P>I&&!A?(I++,K[R]=Math.ceil(M(I,J,O,P))+"px",U=setTimeout(N,10)):(K[R]=-L[V]*S+"px",L.index=S,A||L._transitionend(),L.pause(),L.begin())},K.WebkitTransition=K.MozTransition=K.msTransition=K.OTransition=K.transition=R+" "+10*P+"ms "+this.opt.fx,this.opt.before.call(this,S,this.slides[this.index]),N()},begin:function(){return this.timer||this.opt.auto<0?!0:(this.timer=setTimeout(this.bind(function(){"left"==this.direction||"up"==this.direction?this.next():this.prev()},this),this.opt.timeout),this.status=1,void 0)},pause:function(){clearInterval(this.timer),this.timer=null,this.status=2},stop:function(){this.pause(),this.index=0,this.slide(0),this.status=0},prev:function(J){J="undefined"==typeof J?J=1:J%this.length;var I=J>this.index?this.length+this.index-J:this.index-J;this.slide(I)},next:function(I){"undefined"==typeof I&&(I=1),this.slide((this.index+I)%this.length)},_start:function(J){this.touching||this.preventDefault(J),this.element.onclick=null,this.startPos=this.getMousePoint(J);var I=this.element.style;I.webkitTransitionDuration=I.MozTransitionDuration=I.msTransitionDuration=I.OTransitionDuration=I.transitionDuration="0ms",this.scrolling=1,this.startTime=new Date},_move:function(M){var K,L,I,J,N;!this.scrolling||M.touches&&M.touches.length>1||M.scale&&1!==M.scale||(K=this.vertical?"top":"left",L=this.vertical?"height":"width",I=this.vertical?"y":"x",J=this.vertical?"x":"y",this.endPos=this.getMousePoint(M),N=this.endPos[I]-this.startPos[I],2===this.scrolling||Math.abs(N)>=Math.abs(this.endPos[J]-this.startPos[J])?(this.preventDefault(M),this.pause(),N/=!this.index&&N>0||this.index==this.length-1&&0>N?Math.abs(N)/this[L]+1:1,this.element.style[K]=-this.index*this[L]+N+"px",0!=N&&(this.scrolling=2)):this.scrolling=0)},_end:function(){if("undefined"!=typeof this.scrolling){try{var K=this.vertical?"y":"x",L=this.vertical?"height":"width",I=this.endPos[K]-this.startPos[K];2===this.scrolling&&(this.element.onclick=new Function("return false;"))}catch(J){I=0}(new Date-this.startTime<250&&Math.abs(I)>0.1*this[L]||Math.abs(I)>this[L]/2)&&(0>I&&this.index+1<this.length||I>0&&this.index>0)?I>0?this.prev():this.next():this.slide(this.index),delete this.scrolling,delete this.startPos,delete this.endPos,delete this.startTime,this.opt.auto>=0&&this.begin()}},mouseScroll:function(I){if(this.opt.mouseWheel){this.preventDefault(I),I=I||E.event;var J=I.wheelDelta||I.detail&&-1*I.detail||0;J/Math.abs(J),J>0?this.next():this.prev()}},_transitionend:function(){this.opt.after.call(this,this.index,this.slides[this.index])}},E.TouchSlider=C}(window,void 0);